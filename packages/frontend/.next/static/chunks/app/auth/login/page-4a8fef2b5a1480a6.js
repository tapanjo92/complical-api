(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[716],{5752:function(e,t,r){Promise.resolve().then(r.bind(r,2490))},2490:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return o}});var n=r(7573),a=r(7653),s=r(2859),l=r(2056),c=r.n(l);function o(){let e=(0,s.useRouter)(),[t,r]=(0,a.useState)(""),[l,o]=(0,a.useState)(""),[i,d]=(0,a.useState)(""),[u,m]=(0,a.useState)(!1),h=async r=>{r.preventDefault(),d(""),m(!0);try{let r=await fetch("https://auth.complical.com/oauth2/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({grant_type:"client_credentials",client_id:t,client_secret:l,scope:"complical/read"})});if(!r.ok)throw Error("Invalid credentials");let n=await r.json();localStorage.setItem("auth_token",n.access_token),n.refresh_token&&localStorage.setItem("refresh_token",n.refresh_token),e.push("/dashboard")}catch(e){d("Invalid client credentials. Please check and try again.")}finally{m(!1)}};return(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,n.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(c(),{href:"/",className:"block text-center",children:(0,n.jsx)("h2",{className:"text-3xl font-bold",children:"CompliCal"})}),(0,n.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"}),(0,n.jsxs)("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",(0,n.jsx)(c(),{href:"/auth/register",className:"font-medium text-black hover:underline",children:"create a new account"})]})]}),(0,n.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:h,children:[(0,n.jsxs)("div",{className:"rounded-md shadow-sm -space-y-px",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"client-id",className:"sr-only",children:"Client ID"}),(0,n.jsx)("input",{id:"client-id",name:"client-id",type:"text",autoComplete:"username",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-black focus:border-black focus:z-10 sm:text-sm",placeholder:"Client ID",value:t,onChange:e=>r(e.target.value)})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"client-secret",className:"sr-only",children:"Client Secret"}),(0,n.jsx)("input",{id:"client-secret",name:"client-secret",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-black focus:border-black focus:z-10 sm:text-sm",placeholder:"Client Secret",value:l,onChange:e=>o(e.target.value)})]})]}),i&&(0,n.jsx)("div",{className:"rounded-md bg-red-50 p-4",children:(0,n.jsx)("p",{className:"text-sm text-red-800",children:i})}),(0,n.jsx)("div",{children:(0,n.jsx)("button",{type:"submit",disabled:u,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-black hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-black disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Signing in...":"Sign in"})}),(0,n.jsx)("div",{className:"text-center text-sm",children:(0,n.jsxs)("p",{className:"text-gray-600",children:["Don't have client credentials?"," ",(0,n.jsx)(c(),{href:"/auth/register",className:"font-medium text-black hover:underline",children:"Register for an API account"})]})})]})]})})}},2859:function(e,t,r){e.exports=r(2988)}},function(e){e.O(0,[274,293,16,744],function(){return e(e.s=5752)}),_N_E=e.O()}]);